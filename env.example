# ============================================================
#  Sample Platform – Docker Environment Variables
#  Copy env.example → .env, then edit the values below.
# ============================================================

# ---------- MySQL ----------
MYSQL_ROOT_PASSWORD=root
# Application-level DB user (MySQL auto-creates this with access to MYSQL_DATABASE)
MYSQL_USER=sample_platform
MYSQL_PASSWORD=sample_platform
MYSQL_DATABASE=sample_platform

# ---------- Networking ----------
# Port exposed on the HOST for the Flask app (container always listens on 5000)
APP_PORT=5000
# Port exposed on the HOST for direct MySQL access (optional, for debugging)
DB_EXTERNAL_PORT=3306

# ---------- Flask ----------
FLASK_APP=run.py
FLASK_ENV=development

# ---------- Database URI ----------
# Constructed from the MySQL vars above. Uses the container hostname 'db'.
SQLALCHEMY_DATABASE_URI=mysql+pymysql://sample_platform:sample_platform@db/sample_platform?charset=utf8mb4

# ---------- Internal Container Paths ----------
DB_HOST=db
DB_PORT=3306
SAMPLE_REPOSITORY=/repository
INSTALL_FOLDER=/app
GOOGLE_APPLICATION_CREDENTIALS=/app/service-account.json

# ---------- Security ----------
SECRET_KEY=change-me-in-production
HMAC_KEY=change-me-in-production

# ---------- Google Cloud Storage (Optional for Docker) ----------
# For local Docker dev: leave as-is. The entrypoint auto-generates a dummy
# service-account.json, and downloads fall back to local file serving.
# For production: set your real bucket name.
# NOTE: Must be non-empty — run.py crashes on empty bucket name at import time.
GCS_BUCKET_NAME=sample-platform-dev

# ---------- Admin Bootstrap ----------
# Created automatically on first run
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin

# ---------- GitHub Integration (Optional) ----------
GITHUB_TOKEN=
GITHUB_OWNER=CCExtractor
GITHUB_REPOSITORY=ccextractor

# ---------- Email / Mailgun (Optional) ----------
EMAIL_DOMAIN=
EMAIL_API_KEY=

# ---------- Feature Flags ----------
# Populate the DB with sample categories, samples, and regression tests
INSTALL_SAMPLE_DATA=true
MAINTENANCE=false
